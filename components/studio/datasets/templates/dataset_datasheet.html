{% extends 'baseproject.html' %}
{% block content %}
<div class="col-md-9">
    <nav aria-label="breadcrumb" class="project-breadcrumb-nav">
        <ol class="breadcrumb project-breadcrumb-ol">
            <li class="breadcrumb-item active" aria-current="page"><a href="{% url 'projects:index' %}">Projects</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">{{ project.name }}</li>
            <li class="breadcrumb-item active" aria-current="page">{{ name }}</li>
            <li class="breadcrumb-item">Datasheet</li>
        </ol>
    </nav>
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3">
        <h2>Datasheet</h2>
    </div>
    <div class="get-started-header">
        <p>A datasheet is a standardized document used in order to provide information about the provenance, creation,
            and usage of a particular dataset. They serve to increase transparancy and to make it easier for new users
            of the dataset to avoid unwanted biases. Below can fill in a simplified version of a datasheet, or upload a
            complete version. You can read more about Datasheets for Datasets at: https://arxiv.org/abs/1803.09010</p>
    </div>
    <div class="container-fluid">
        <!--
            <div class="container" style="margin-top:35px">
                <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#demo{{ forloop.counter }}">Question
                    {{ forloop.counter }}</button>
                <div id="demo{{ forloop.counter }}" class="collapse">
                    <div class="form-group" style="margin-top:35px">
                        <label for="question">{{ q }}</label>
                        <textarea type="text" name="q{{forloop.counter}}" rows="4" cols="60" class="form-control"
                            id="command" name="command" aria-describedby="question"></textarea>
                        <small id="question" class="form-text text-muted">Question {{ forloop.counter }}</small>
                    </div>
                </div>
            </div>
            -->
        {% if not has_datasheet %}
        <form action="{% url 'datasets:submit' request.user project.slug 1 name %}" method="post">
            {% csrf_token %}
            {% for q in questions %}
            <div class="form-group" style="margin-top:35px">
                <label for="question">{{ q }}</label>
                {% if form %}
                <textarea type="text" name="q{{forloop.counter}}" rows="4" cols="60" class="form-control"
                    id="q{{forloop.counter}}" aria-describedby="question">{{ form.q1.value }}</textarea>
                {% else %}
                <textarea type="text" name="q{{forloop.counter}}" rows="4" cols="60" class="form-control"
                    id="q{{forloop.counter}}" aria-describedby="question"></textarea>
                {% endif %}
                <small id="question" class="form-text text-muted">Question {{ forloop.counter }}</small>
            </div>
            {% endfor %}
            <button type="submit" class="btn btn-primary" style="margin-top:35px">Submit</button>
        </form>
        {% else %}
        <form action="{%url 'datasets:datasheet' request.user project.slug 1 name 'update' %}" method="post">
            {% csrf_token %}
            {% for key, value in datasheet.items %}
            <div class="form-group border-bottom" style="margin-top:35px">
                <label for="question"><b>{{ key }}</b></label>
                <p type="text" name="q{{forloop.counter}}" id="q{{forloop.counter}}" aria-describedby="question">
                    <i>{{value}}</i></p>
                <!--<small id="question" class="form-text text-muted">Question {{ forloop.counter }}</small>-->
            </div>
            {% endfor %}
            <button type="submit" class="btn btn-primary" style="margin-top:35px">Update datasheet</button>
        </form>
        {% endif %}
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</div>
{% endblock %}